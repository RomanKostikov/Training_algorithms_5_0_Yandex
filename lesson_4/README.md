# Занятие 4 (Бинарный поиск)

## Classwork

## Homework(до 29.03.24(10 задач))

### task001:

A. Быстрый поиск в массиве
Ограничение времени 3 секунды Ограничение памяти 64Mb

Ввод стандартный ввод или input.txt Вывод стандартный вывод или output.txt

Дан массив из N целых чисел. Все числа от −109 до 109.

Нужно уметь отвечать на запросы вида “Cколько чисел имеют значения отL доR?”.

Формат ввода Число N (1≤N≤105). Далее N целых чисел.

Затем число запросов K (1≤K≤105).

Далее K пар чисел L,R (−109≤L≤R≤109) — собственно запросы.

Формат вывода Выведите K чисел — ответы на запросы.

Пример Ввод

5

10 1 10 3 4

4 1 10 2 9 3 4 2 2
Вывод
5 2 2 0

### task002:

B. Одномерный морской бой
Ограничение времени 2 секунды Ограничение памяти 256Mb

Ввод стандартный ввод или input.txt Вывод стандартный вывод или output.txt

Поле в игре в одномерный морской бой имеет размеры 1×n. Ваша задача — найти такое максимальное k, что на поле можно
расставить один корабль размера 1×k, два корабля размера 1×(k−1), …, k кораблей размера 1×1, причем корабли, как и в
обычном морском бое, не должны касаться друг друга и пересекаться.

Формат ввода В единственной строке входных данных дано число n — количество клеток поля (0≤n≤1018).

Формат вывода Выведите единственное число — такое максимальное k, что можно расставить корабли, как описано в условии.

Пример
Ввод
7
Вывод
2

Примечания Пояснение к примеру: для поля 1×7 ответ равен 2. Расставить один корабль размера 1×2 и два
корабля размера 1×1 можно следующим образом:

### task003:

C. Саруман
Ограничение времени 4 секунды Ограничение памяти 256Mb

Ввод стандартный ввод или input.txt Вывод стандартный вывод или output.txt

Как известно, Саруман Радужный очень любит порядок. Поэтому все полки его войска стоят друг за другом, причем каждый
следующий полк содержит количество орков не меньше, чем предыдущий.

Перед тем как напасть на Хельмову Падь, Саруман решил провести несколько вылазок для разведки. Чтобы его отряды никто не
заметил, он решил каждый раз отправлять несколько подряд идущих полков так, чтобы суммарное количество орков в них было
равно определенному числу. Так как это всего лишь разведка, каждый полк после вылазки возвращается на свое место. Задачу
выбрать нужные полки он поручил Гриме Змеиному Языку. А Грима не поскупится на вознаграждение, если вы ему поможете.

Формат ввода

В первой строке входного файла находится два целых числа: n (1 ≤ n ≤ 2⋅105) — количество полков и m (1 ≤ m ≤ 2⋅105) –
количество предстоящих вылазок.

В следующей строке записано n чисел ai, где ai — число орков в i-ом полке (1 ≤ ai ≤ 109, ai ≤ ai+1).

Далее в m строках записаны запросы вида: количество полков l (1 ≤ l ≤ n), которые должны будут отправиться в эту
вылазку, и суммарное количество орков в этих полках s (1 ≤ s ≤ 2⋅1016)

Формат вывода

Для каждого запроса выведите номер полка, с которого начнутся те l, которые необходимо отправить на вылазку. Если таких
полков несколько, выведите любой. Если же так выбрать полки нельзя, выведите -1.

Пример Ввод

5 2 1 3 5 7 9 2 4 1 3
Вывод
1 2

### task004:

D. Рапорт
Ограничение времени 2 секунды
Ограничение памяти 256Mb
Ввод стандартный ввод или input.txt
Вывод стандартный вывод или output.txt
Верс нужно подготовить рапорт о последнем боевом вылете. Она уже сочинила в голове текст, осталось лишь его записать.
Рапорт будет состоять из двух частей: первая будет содержать
n
слов,
i
-е из которых состоит из
a
i
букв, вторая —
m
слов,
j
-е из которых состоит из
b
j
букв. Язык Крии не содержит никаких знаков препинания. Верс должна записать рапорт на клетчатом рулоне бумаги, шириной
w
клеток. Так как рапорт состоит из двух частей, она разделит вертикальной чертой рулон на две части целой ширины, после
чего в левой части напишет первую часть, а в правой — вторую.
Обе части рапорта записываются аналогично, каждая на своей части рулона. Одна буква слова занимает ровно одну клетку.
Первое слово записывается в первой строке рулона, начиная с самой левой клетки этой части рулона. Каждое следующее
слово, если это возможно, должно быть записано в той же строке, что и предыдущее, и быть отделено от него ровно одной
пустой клеткой. Иначе, оно пишется в следующей строке, начиная с самой левой клетки. Если ширина части рулона меньше,
чем длина какого-то слова, которое должно быть написано в этой части, написать эту часть рапорта на части рулона такой
ширины невозможно.
Гарантируется, что можно провести вертикальную черту так, что обе части рапорта возможно написать. Верс хочет провести
вертикальную черту так, чтобы длина рулона, которой хватит, чтобы написать рапорт, была минимальна. Помогите ей найти
эту минимальную длину.

Формат ввода
В первой строке даны три целых числа
w
,
n
и
m
— ширина рулона, количество слов в первой и второй части рапорта (
1
≤
w
≤
1
0
9
;
1
≤
n
,
m
≤
1
0
0
0
0
0
).
В следующей строке дано
n
целых чисел
a
i
— длина
i
-го слова первой части рапорта
1
≤
a
i
≤
1
0
9
.
В следующей строке дано
m
целых чисел
b
j
— длина
j
-го слова второй части рапорта
1
≤
b
j
≤
1
0
9
.
Гарантируется, что возможно провести черту так, что обе части рапорта возможно написать.

Формат вывода
В единственной строке выведите одно целое число — минимальную длину рулона, которой достаточно, чтобы написать рапорт.
Пример
Ввод
15 6 6
2 2 2 3 2 2
3 3 5 2 4 3
Вывод
3
Примечания
В тесте из примера рулон можно разделить на две части, проведя черту между 7 и 8 столбцом клеток, а затем записать
по два слова в каждой строке в обеих частях рапорта.

### task005:

E. Нумерация дробей
Ограничение времени 2 секунды
Ограничение памяти 256Mb
Ввод стандартный ввод или input.txt
Вывод стандартный вывод или output.txt
Георг Кантор доказал, что множество всех рациональных чисел счетно (т.е. все рациональные числа можно пронумеровать).

Чтобы упорядочить дроби необходимо их положить в таблицу, как показано на рисунке. В строку с номером i этой матрицы по
порядку записаны дроби с числителем i, а в столбец с номером j дроби с знаменателем j.

Дальше необходимо выписать все дроби в том порядке, как показано на рисунке стрелками. Получится такая
последовательность: , , , , , , …

Вам требуется по числу n найти числитель и знаменатель n-ой дроби.

Формат ввода
Во входном файле дано число n (1 ≤ n ≤ 1018) — порядковый номер дроби в последовательности.

Формат вывода
В выходной файл требуется вывести через символ / два числа: числитель и знаменатель соответствующей дроби.

Пример 1
Ввод Вывод
1
1/1
Пример 2
Ввод Вывод
6
3/1
Пример 3
Ввод Вывод
2
2/1

### task006:

F. Велодорожки
Ограничение времени 4 секунды
Ограничение памяти 256Mb
Ввод стандартный ввод или input.txt
Вывод стандартный вывод или output.txt
Мэр одного города очень любит следить за тенденциями и воспроизводить их в своём городе. До него дошла новость о
популярности велодорожек. Теперь он хочет проложить велодорожки в своём городе и сделать это лучше, чем в других
городах! Поэтому он решил сделать велодорожки даже на главной площади города.
Главная площадь представляет собой прямоугольник шириной
w
и высотой
h
, замощённый квадратными плитками со стороной
1
. Мэр хочет, чтобы было проложено две велодорожки одинаковой ширины: одна горизонтальная и одна вертикальная. К
сожалению, ремонт на площади проводился достаточно давно и на некоторых плитках уже появились трещины. Мэр хочет
проложить велодорожки так, чтобы после этого на площади остались только целые плитки. При строительстве велодорожек
плитки на их месте убираются. Можно только убирать плитки с площади и нельзя менять местами или добавлять новые. Чтобы
потратить меньше денег, мэр хочет сделать велодорожки наименьшей возможной ширины, при этом ширина дорожек должна быть
целым числом. Определите, какой должна быть ширина велодорожек.

Формат ввода
В первой строке входных данных содержатся три целых числа
w
,
h
,
n
(
1
≤
w
,
h
≤
1
0
9
,
1
≤
n
≤
min
(
w
×
h
,
3
⋅
1
0
5
)
)  — ширина и высота площади и количество потрескавшихся плиток соответственно.
В следующих
n
строках содержится по 2 целых числа
x
i
,
y
i
(
1
≤
x
i
≤
w
,
1
≤
y
i
≤
h
)  — координаты потрескавшихся плиток.
(
x
i
,
y
i
)
≠
(
x
j
,
y
j
)
при
i
≠
j
.

Формат вывода
Выведите единственное число
c
(
1
≤
c
≤
min
(
w
,
h
)
)  — наименьшую возможную ширину велодорожек.
Пример 1
Ввод Вывод
5 6 5
5 4
2 6
4 1
2 3
1 4
3
Пример 2
Ввод Вывод
4 3 4
1 1
4 3
4 1
1 3
3
Примечания
Ниже приведены картинки к примерам из условия. Серым отмечены потрескавшиеся плитки. Во втором примере ширина дорожек
равна меньшей из сторон прямоугольника.

### task007:

G. Новый офис плюса
Ограничение времени 5 секунд
Ограничение памяти 256Mb
Ввод стандартный ввод или input.txt
Вывод стандартный вывод или output.txt
Сервис Тындекс.Плюс так быстро растет, что для сотрудников и серверов потребовалось потребовалось построить новый офис.
Участок под застройку представляет из себя клетчатое поле
n
×
m
, часть клеток которого пригодна для строительства, а часть нет.
Новый офис должен выглядеть как знак "плюс"какого-то целого положительного размера
k
. Знак "плюс"размера
k
— это такая клетчатая фигура, состоящая из пяти квадратов
k
×
k
клеток, при этом есть один центральный квадрат, а остальные четыре являются его соседями по стороне.
Новый офис должен быть как можно больше, поэтому необходимо найти максимальное
k
, такое что офис удастся разместить на участке под застройку.
Определите максимальное
k
. Гарантируется, что он можно построить офис хотя бы с
k
=
1
.

Формат ввода
В первой строке задано два целых числа
n
и
m
(
1
≤
n
,
m
≤
2
0
0
0
) — длина и ширина участка под застройку.
В каждой из последующих
n
строк задана строка, состоящая из
m
символов,
j
-й символ в
i
-й строке равен #, если клетка с координатами
(
i
,
j
)
пригодна для строительства и . иначе.

Формат вывода
Выведите одно целое положительное число — максимально возможное
k
.
Пример 1
Ввод Вывод
9 12
...##.###...
...##.###...
.########...
.###########
...#########
...#########
......###...
......###...
......###...
3
Пример 2
Ввод Вывод
6 6
.##...
.##...

######

######

.##...
.##...
1
Примечания
В первом тесте из примера можно выбрать плюс с
k
=
3
. Этот плюс выглядит следующим образом:
...###...

...###...

...###...

#########

#########

#########

...###...

...###...

...###...

### task008:

H. Выборы
Ограничение времени	3 секунды
Ограничение памяти	256Mb
Ввод	стандартный ввод или input.txt
Вывод	стандартный вывод или output.txt
В одной демократической стране приближаются парламентские выборы. Выборы проходят по следующей схеме: каждый житель страны, достигший восемнадцатилетнего возраста, отдает свой голос за одну из политических партий. После этого партия, которая набрала максимальное количество голосов, считается победившей на выборах и формирует правительство. Если несколько партий набрали одинаковое максимальное количество голосов, то они должны сформировать коалиционное правительство, что обычно приводит к длительным переговорам.

Один бизнесмен решил выгодно вложить свои средства и собрался поддержать на выборах некоторые партии. В результате поддержки он планирует добиться победы одной из этих партий, которая затем сформирует правительство, которое будет действовать в его интересах. При этом возможность формирования коалиционного правительства его не устраивает, поэтому он планирует добиться строгой победы одной из партий.

Чтобы повлиять на исход выборов, бизнесмен собирается выделить деньги на агитационную работу среди жителей страны. Исследование рынка показало, что для того, чтобы один житель сменил свои политические воззрения, требуется потратить одну условную единицу. Кроме того, чтобы i-я партия в случае победы сформировала правительство, которое будет действовать в интересах бизнесмена, необходимо дать лидеру этой партии взятку в размере pi условных единиц. При этом некоторые партии оказались идеологически устойчивыми и не согласны на сотрудничество с бизнесменом ни за какие деньги.

По результатам последних опросов известно, сколько граждан планируют проголосовать за каждую партию перед началом агитационной компании. Помогите бизнесмену выбрать, какую партию следует подкупить, и какое количество граждан придется убедить сменить свои политические воззрения, чтобы выбранная партия победила, учитывая, что бизнесмен хочет потратить на всю операцию минимальное количество денег.

Формат ввода
В первой строке вводится целое число n – количество партий (1 ≤ n ≤ 105). Следующие n строк описывают партии. Каждая из этих строк содержит по два целых числа: vi – количество жителей, которые собираются проголосовать за эту партию перед началом агитационной компании, и pi – взятка, которую необходимо дать лидеру партии для того, чтобы сформированное ей в случае победы правительство действовало в интересах бизнесмена (1 ≤ vi ≤ 106, 1 ≤ pi ≤ 106 или pi = -1). Если партия является идеологически устойчивой, то pi равно -1. Гарантируется, что хотя бы одно pi не равно -1.

Формат вывода
В первой строке выведите минимальную сумму, которую придется потратить бизнесмену. Во второй строке выведите номер партии, лидеру которой следует дать взятку. В третьей строке выведите n целых чисел – количество голосов, которые будут отданы за каждую из партий после осуществления операции. Если оптимальных решений несколько, выведите любое.

Пример
Ввод	Вывод
3
7 -1
2 8
1 2
6
3
3 2 5 